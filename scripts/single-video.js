/*! For license information please see single-video.js.LICENSE.txt */
(()=>{!function(){var e=function(e){return new RegExp("(^| )"+e+"( |$)")},n=function(e,n,t){for(var r=0;r<e.length;r++)n.call(t,e[r])};function t(e){this.element=e}t.prototype={add:function(){n(arguments,(function(e){this.contains(e)||(this.element.className+=" "+e)}),this)},remove:function(){n(arguments,(function(n){this.element.className=this.element.className.replace(e(n),"")}),this)},toggle:function(e){return this.contains(e)?(this.remove(e),!1):(this.add(e),!0)},contains:function(n){return e(n).test(this.element.className)},replace:function(e,n){this.remove(e),this.add(n)}},"classList"in Element.prototype||Object.defineProperty(Element.prototype,"classList",{get:function(){return new t(this)}}),window.DOMTokenList&&null==DOMTokenList.prototype.replace&&(DOMTokenList.prototype.replace=t.prototype.replace)}(),function(){if("function"==typeof NodeList.prototype.forEach)return!1;NodeList.prototype.forEach=Array.prototype.forEach}();var e={};e.browserInfo=function(){navigator.appVersion;var e,n,t,r=navigator.userAgent,s=navigator.appName,i=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return-1!==navigator.appVersion.indexOf("Windows NT")&&-1!==navigator.appVersion.indexOf("rv:11")?(s="IE",i="11;"):-1!==(n=r.indexOf("MSIE"))?(s="IE",i=r.substring(n+5)):-1!==(n=r.indexOf("Chrome"))?(s="Chrome",i=r.substring(n+7)):-1!==(n=r.indexOf("Safari"))?(s="Safari",i=r.substring(n+7),-1!==(n=r.indexOf("Version"))&&(i=r.substring(n+8))):-1!==(n=r.indexOf("Firefox"))?(s="Firefox",i=r.substring(n+8)):(e=r.lastIndexOf(" ")+1)<(n=r.lastIndexOf("/"))&&(s=r.substring(e,n),i=r.substring(n+1),s.toLowerCase()==s.toUpperCase()&&(s=navigator.appName)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),o=parseInt(""+i,10),isNaN(o)&&(i=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),[s,o]}(),e.browserName=e.browserInfo[0],e.browserVersion=e.browserInfo[1],document.querySelectorAll("video").forEach((function(e){var n=document.createElement("div");n.classList.add("ckin__player"),e.parentNode.insertBefore(n,e),n.appendChild(e)}));var n=document.querySelectorAll(".ckin__player"),t='<i class="ckin-play"></i>',r='<i class="ckin-volume-medium"></i>',s='<i class="ckin-expand"></i>';function i(e,n){e[e.paused?"play":"pause"](),e.paused?n.classList.remove("is-playing"):n.classList.add("is-playing")}function o(e,n){var r=e.paused?t:'<i class="ckin-pause"></i>';n.forEach((function(e){return e.innerHTML=r}))}function l(e,n,t){var r=e.offsetX/t.offsetWidth*n.duration;n.currentTime=r}n.forEach((function(n){var c=n.querySelector("video"),u=function(e){return void 0!==e&&""!=e?e:"default"}(c.dataset.ckin);n.classList.add(u);var a=c.dataset.overlay;!function(e,n){if(1==n)e.classList.add("ckin__overlay");else{if(2!=n)return;e.classList.add("ckin__overlay--2")}}(n,a);var d=function(e,n){return void 0!==n&&""!=n&&'<div class="'+e+'__title">'+n+"</div>"}(u,c.dataset.title);d&&n.insertAdjacentHTML("beforeend",d);var f=function(e){var n=[];return n.push('<button class="'+e+'__button--big toggle" title="Toggle Play">'+t+"</button>"),n.push('<div class="'+e+'__controls ckin__controls">'),n.push('<button class="'+e+'__button toggle" title="Toggle Video">'+t+"</button>",'<div class="progress">','<div class="progress__filled"></div>',"</div>",'<button class="'+e+'__button volume" title="Volume">'+r+"</button>",'<button class="'+e+'__button fullscreen" title="Full Screen">'+s+"</button>"),n.push("</div>"),n.join("")}(u);n.insertAdjacentHTML("beforeend",f);var p=c.dataset.color;!function(e,n){if(void 0!==n&&""!=n){var t=e.querySelectorAll("button");e.querySelector(".progress__filled").style.background=n,t.forEach((function(e){return e.style.color=n}))}}(n,p);var m=n.querySelector("."+u+"__controls"),v=n.querySelector(".progress"),g=n.querySelector(".progress__filled"),b=n.querySelectorAll(".toggle"),y=(n.querySelectorAll("[data-skip]"),n.querySelectorAll("."+u+"__slider"),n.querySelector(".volume")),h=n.querySelector(".fullscreen");"IE"!==e.browserName||8!==e.browserVersion&&9!==e.browserVersion||(function(e){e.setAttribute("controls","controls")}(c),m.style.display="none"),c.addEventListener("click",(function(){i(this,n)})),c.addEventListener("play",(function(){o(this,b)})),c.addEventListener("pause",(function(){o(this,b)})),c.addEventListener("timeupdate",(function(){!function(e,n){var t=e.currentTime/e.duration*100;n.style.flexBasis=t+"%"}(this,g)})),b.forEach((function(e){return e.addEventListener("click",(function(){i(c,n)}))})),y.addEventListener("click",(function(){!function(e,n){var t=e.volume,s=r;1==t?(t=0,s='<i class="ckin-volume-mute"></i>'):.5==t?(t=1,s=r):(t=.5,s='<i class="ckin-volume-low"></i>'),e.volume=t,n.innerHTML=s}(c,y)}));var _=!1;v.addEventListener("click",(function(e){l(e,c,v)})),v.addEventListener("mousemove",(function(e){return _&&l(e,c,v)})),v.addEventListener("mousedown",(function(){return _=!0})),v.addEventListener("mouseup",(function(){return _=!1})),h.addEventListener("click",(function(e){return function(e,n){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(e.classList.remove("ckin__fullscreen"),document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),isFullscreen=!1,n.innerHTML=s):(e.classList.add("ckin__fullscreen"),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),isFullscreen=!0,n.innerHTML='<i class="ckin-compress"></i>')}(n,h)})),function(e,n,t){for(var r="webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange".split(" "),s=0,i=r.length;s<i;s++)e.addEventListener(r[s],t,!1)}(n,0,(function(e){return function(e,n){null===document.webkitFullscreenElement&&(n.classList.remove("ckin__fullscreen"),n.querySelector(".fullscreen").innerHTML=s)}(0,n)}))}))})();